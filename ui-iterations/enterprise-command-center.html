<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SITU8 Command Center - Enterprise Edition</title>
    <style>
        /* Enterprise Design System - Built for Scale */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        :root {
            /* Enterprise Color System - WCAG AAA Compliant */
            --sys-background-primary: #0A0B0D;
            --sys-background-secondary: #12141A;
            --sys-background-tertiary: #1A1D25;
            --sys-background-elevated: #22252F;
            --sys-background-overlay: rgba(10, 11, 13, 0.95);
            
            /* Text Hierarchy */
            --sys-text-primary: #FFFFFF;
            --sys-text-secondary: #B8BCC8;
            --sys-text-tertiary: #8B91A1;
            --sys-text-quaternary: #5C6173;
            
            /* Semantic Colors with Luminance Calculations */
            --sys-critical: #FF3B30;
            --sys-critical-bg: rgba(255, 59, 48, 0.12);
            --sys-critical-border: rgba(255, 59, 48, 0.24);
            --sys-high: #FF9500;
            --sys-high-bg: rgba(255, 149, 0, 0.12);
            --sys-high-border: rgba(255, 149, 0, 0.24);
            --sys-medium: #FFCC00;
            --sys-medium-bg: rgba(255, 204, 0, 0.12);
            --sys-medium-border: rgba(255, 204, 0, 0.24);
            --sys-low: #34C759;
            --sys-low-bg: rgba(52, 199, 89, 0.12);
            --sys-low-border: rgba(52, 199, 89, 0.24);
            --sys-info: #007AFF;
            --sys-info-bg: rgba(0, 122, 255, 0.12);
            --sys-info-border: rgba(0, 122, 255, 0.24);
            
            /* Structural */
            --sys-border-subtle: rgba(255, 255, 255, 0.06);
            --sys-border-medium: rgba(255, 255, 255, 0.12);
            --sys-border-strong: rgba(255, 255, 255, 0.24);
            
            /* Motion Design Tokens */
            --sys-motion-swift: 200ms cubic-bezier(0.4, 0, 0.2, 1);
            --sys-motion-smooth: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            --sys-motion-expressive: 400ms cubic-bezier(0.4, 0, 0.6, 1);
            
            /* Layout System */
            --sys-spacing-unit: 8px;
            --sys-header-height: 56px;
            --sys-sidebar-width: 280px;
            --sys-panel-gap: 1px;
            
            /* Typography Scale */
            --sys-font-mono: 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
            --sys-font-sans: -apple-system, BlinkMacSystemFont, 'Inter', system-ui, sans-serif;
        }

        /* Performance Optimizations */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Base Typography */
        body {
            font-family: var(--sys-font-sans);
            font-size: 13px;
            line-height: 1.5;
            color: var(--sys-text-primary);
            background: var(--sys-background-primary);
            overflow: hidden;
            position: relative;
            height: 100vh;
            user-select: none;
        }

        /* Performance Layer - GPU Acceleration */
        .gpu-layer {
            transform: translateZ(0);
            will-change: transform;
            backface-visibility: hidden;
        }

        /* Data Grid Background Pattern */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image: 
                radial-gradient(circle at 20% 50%, var(--sys-info-bg) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, var(--sys-critical-bg) 0%, transparent 50%),
                linear-gradient(0deg, transparent 24%, var(--sys-border-subtle) 25%, var(--sys-border-subtle) 26%, transparent 27%, transparent 74%, var(--sys-border-subtle) 75%, var(--sys-border-subtle) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, var(--sys-border-subtle) 25%, var(--sys-border-subtle) 26%, transparent 27%, transparent 74%, var(--sys-border-subtle) 75%, var(--sys-border-subtle) 76%, transparent 77%, transparent);
            background-size: 100% 100%, 100% 100%, 50px 50px, 50px 50px;
            opacity: 0.4;
            pointer-events: none;
            z-index: 0;
        }

        /* Enterprise Header */
        .command-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--sys-header-height);
            background: var(--sys-background-secondary);
            border-bottom: 1px solid var(--sys-border-subtle);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 calc(var(--sys-spacing-unit) * 3);
            z-index: 1000;
            backdrop-filter: blur(20px);
        }

        /* Logo with Status */
        .header-brand {
            display: flex;
            align-items: center;
            gap: calc(var(--sys-spacing-unit) * 2);
        }

        .brand-logo {
            font-size: 20px;
            font-weight: 600;
            letter-spacing: -0.03em;
            background: linear-gradient(135deg, var(--sys-text-primary) 0%, var(--sys-text-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .system-status {
            display: flex;
            align-items: center;
            gap: calc(var(--sys-spacing-unit) * 0.5);
            padding: 4px 12px;
            background: var(--sys-background-elevated);
            border-radius: 100px;
            font-size: 11px;
            font-weight: 500;
            color: var(--sys-text-secondary);
        }

        .status-indicator {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--sys-low);
            box-shadow: 0 0 0 2px var(--sys-low-bg);
            animation: statusPulse 2s ease-in-out infinite;
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        /* Metric Cards */
        .header-metrics {
            display: flex;
            gap: calc(var(--sys-spacing-unit) * 3);
        }

        .metric-card {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 2px;
            padding: 8px 16px;
            background: var(--sys-background-elevated);
            border: 1px solid var(--sys-border-subtle);
            border-radius: 8px;
            transition: all var(--sys-motion-swift);
            cursor: pointer;
        }

        .metric-card:hover {
            background: var(--sys-background-tertiary);
            border-color: var(--sys-border-medium);
            transform: translateY(-1px);
        }

        .metric-value {
            font-size: 18px;
            font-weight: 600;
            font-variant-numeric: tabular-nums;
            letter-spacing: -0.02em;
        }

        .metric-label {
            font-size: 11px;
            color: var(--sys-text-tertiary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .metric-trend {
            display: inline-flex;
            align-items: center;
            gap: 2px;
            font-size: 11px;
            font-weight: 500;
        }

        .trend-up { color: var(--sys-critical); }
        .trend-down { color: var(--sys-low); }

        /* Header Actions */
        .header-actions {
            display: flex;
            align-items: center;
            gap: calc(var(--sys-spacing-unit) * 2);
        }

        .icon-button {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--sys-background-elevated);
            border: 1px solid var(--sys-border-subtle);
            border-radius: 8px;
            color: var(--sys-text-secondary);
            cursor: pointer;
            transition: all var(--sys-motion-swift);
            position: relative;
        }

        .icon-button:hover {
            background: var(--sys-background-tertiary);
            color: var(--sys-text-primary);
            border-color: var(--sys-border-medium);
        }

        .icon-button.has-notification::after {
            content: '';
            position: absolute;
            top: 6px;
            right: 6px;
            width: 8px;
            height: 8px;
            background: var(--sys-critical);
            border: 2px solid var(--sys-background-secondary);
            border-radius: 50%;
        }

        /* Main Layout Grid */
        .command-layout {
            position: fixed;
            top: var(--sys-header-height);
            left: 0;
            right: 0;
            bottom: 0;
            display: grid;
            grid-template-columns: var(--sys-sidebar-width) 1fr var(--sys-sidebar-width);
            gap: var(--sys-panel-gap);
            background: var(--sys-border-subtle);
            overflow: hidden;
        }

        /* Panel Base Styles */
        .panel {
            background: var(--sys-background-primary);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        .panel-header {
            height: 48px;
            background: var(--sys-background-secondary);
            border-bottom: 1px solid var(--sys-border-subtle);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 calc(var(--sys-spacing-unit) * 2);
            flex-shrink: 0;
        }

        .panel-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--sys-text-primary);
            display: flex;
            align-items: center;
            gap: calc(var(--sys-spacing-unit) * 1);
        }

        .panel-subtitle {
            font-size: 11px;
            color: var(--sys-text-tertiary);
            font-weight: 400;
        }

        .panel-actions {
            display: flex;
            gap: calc(var(--sys-spacing-unit) * 1);
        }

        .panel-action {
            padding: 6px 12px;
            background: var(--sys-background-elevated);
            border: 1px solid var(--sys-border-subtle);
            border-radius: 6px;
            font-size: 11px;
            font-weight: 500;
            color: var(--sys-text-secondary);
            cursor: pointer;
            transition: all var(--sys-motion-swift);
        }

        .panel-action:hover {
            background: var(--sys-background-tertiary);
            color: var(--sys-text-primary);
            border-color: var(--sys-info);
        }

        .panel-content {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            position: relative;
        }

        /* Custom Scrollbar */
        .panel-content::-webkit-scrollbar {
            width: 6px;
            background: transparent;
        }

        .panel-content::-webkit-scrollbar-track {
            background: var(--sys-background-secondary);
        }

        .panel-content::-webkit-scrollbar-thumb {
            background: var(--sys-background-elevated);
            border-radius: 3px;
        }

        .panel-content::-webkit-scrollbar-thumb:hover {
            background: var(--sys-border-medium);
        }

        /* Activities Panel - Advanced List */
        .activity-filters {
            display: flex;
            gap: calc(var(--sys-spacing-unit) * 1);
            padding: calc(var(--sys-spacing-unit) * 2);
            background: var(--sys-background-secondary);
            border-bottom: 1px solid var(--sys-border-subtle);
            overflow-x: auto;
        }

        .filter-chip {
            padding: 6px 14px;
            background: var(--sys-background-elevated);
            border: 1px solid var(--sys-border-subtle);
            border-radius: 100px;
            font-size: 12px;
            font-weight: 500;
            color: var(--sys-text-secondary);
            cursor: pointer;
            transition: all var(--sys-motion-swift);
            white-space: nowrap;
            position: relative;
        }

        .filter-chip:hover {
            background: var(--sys-background-tertiary);
            border-color: var(--sys-border-medium);
        }

        .filter-chip.active {
            background: var(--sys-info);
            border-color: var(--sys-info);
            color: white;
        }

        .filter-chip .count {
            display: inline-block;
            margin-left: 4px;
            padding: 0 6px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            font-size: 10px;
        }

        /* Activity Stream */
        .activity-stream {
            padding: calc(var(--sys-spacing-unit) * 1);
        }

        .activity-item {
            background: var(--sys-background-secondary);
            border: 1px solid var(--sys-border-subtle);
            border-radius: 8px;
            margin-bottom: calc(var(--sys-spacing-unit) * 1);
            overflow: hidden;
            transition: all var(--sys-motion-swift);
            cursor: pointer;
            position: relative;
        }

        .activity-item:hover {
            background: var(--sys-background-elevated);
            border-color: var(--sys-border-medium);
            transform: translateX(4px);
        }

        .activity-item.unread::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--sys-info);
        }

        .activity-priority {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 3px;
        }

        .activity-item.priority-critical .activity-priority { background: var(--sys-critical); }
        .activity-item.priority-high .activity-priority { background: var(--sys-high); }
        .activity-item.priority-medium .activity-priority { background: var(--sys-medium); }
        .activity-item.priority-low .activity-priority { background: var(--sys-low); }

        .activity-content {
            padding: calc(var(--sys-spacing-unit) * 2);
            padding-left: calc(var(--sys-spacing-unit) * 3);
        }

        .activity-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: calc(var(--sys-spacing-unit) * 1);
        }

        .activity-meta {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .activity-type {
            font-size: 12px;
            font-weight: 600;
            color: var(--sys-text-primary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .activity-location {
            font-size: 11px;
            color: var(--sys-text-tertiary);
        }

        .activity-time {
            font-size: 11px;
            color: var(--sys-text-quaternary);
            font-variant-numeric: tabular-nums;
        }

        .activity-description {
            font-size: 12px;
            color: var(--sys-text-secondary);
            line-height: 1.5;
            margin-bottom: calc(var(--sys-spacing-unit) * 1);
        }

        .activity-footer {
            display: flex;
            gap: calc(var(--sys-spacing-unit) * 2);
            font-size: 11px;
            color: var(--sys-text-tertiary);
        }

        .activity-stat {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* Center Panel - Advanced Map Visualization */
        .map-container {
            position: relative;
            height: 100%;
            background: var(--sys-background-primary);
            display: flex;
            flex-direction: column;
        }

        .map-controls {
            position: absolute;
            top: calc(var(--sys-spacing-unit) * 2);
            left: calc(var(--sys-spacing-unit) * 2);
            right: calc(var(--sys-spacing-unit) * 2);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            z-index: 100;
            pointer-events: none;
        }

        .map-controls > * {
            pointer-events: auto;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: calc(var(--sys-spacing-unit) * 1);
            padding: 8px 16px;
            background: var(--sys-background-overlay);
            backdrop-filter: blur(20px);
            border: 1px solid var(--sys-border-medium);
            border-radius: 8px;
            font-size: 12px;
        }

        .breadcrumb-item {
            color: var(--sys-text-secondary);
            cursor: pointer;
            transition: color var(--sys-motion-swift);
        }

        .breadcrumb-item:hover {
            color: var(--sys-text-primary);
        }

        .breadcrumb-separator {
            color: var(--sys-text-quaternary);
        }

        .breadcrumb-current {
            color: var(--sys-text-primary);
            font-weight: 500;
        }

        .map-actions {
            display: flex;
            gap: calc(var(--sys-spacing-unit) * 1);
        }

        .map-button {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--sys-background-overlay);
            backdrop-filter: blur(20px);
            border: 1px solid var(--sys-border-medium);
            border-radius: 8px;
            color: var(--sys-text-secondary);
            cursor: pointer;
            transition: all var(--sys-motion-swift);
        }

        .map-button:hover {
            background: var(--sys-background-elevated);
            color: var(--sys-text-primary);
            transform: translateY(-1px);
        }

        /* Site Grid */
        .site-grid {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: calc(var(--sys-spacing-unit) * 3);
            padding: calc(var(--sys-spacing-unit) * 10) calc(var(--sys-spacing-unit) * 3) calc(var(--sys-spacing-unit) * 3);
            overflow-y: auto;
        }

        .site-card {
            background: var(--sys-background-secondary);
            border: 1px solid var(--sys-border-subtle);
            border-radius: 12px;
            padding: calc(var(--sys-spacing-unit) * 3);
            cursor: pointer;
            transition: all var(--sys-motion-smooth);
            position: relative;
            overflow: hidden;
        }

        .site-card:hover {
            background: var(--sys-background-elevated);
            border-color: var(--sys-info-border);
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
        }

        .site-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--sys-info) 0%, var(--sys-info-border) 100%);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform var(--sys-motion-smooth);
        }

        .site-card:hover::before {
            transform: scaleX(1);
        }

        .site-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: calc(var(--sys-spacing-unit) * 2);
        }

        .site-name {
            font-size: 18px;
            font-weight: 600;
            color: var(--sys-text-primary);
            letter-spacing: -0.02em;
        }

        .site-status {
            padding: 4px 8px;
            background: var(--sys-low-bg);
            border: 1px solid var(--sys-low-border);
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            color: var(--sys-low);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .site-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: calc(var(--sys-spacing-unit) * 2);
            margin-bottom: calc(var(--sys-spacing-unit) * 2);
        }

        .site-metric {
            text-align: center;
        }

        .site-metric-value {
            font-size: 24px;
            font-weight: 600;
            font-variant-numeric: tabular-nums;
            color: var(--sys-text-primary);
            line-height: 1;
        }

        .site-metric-label {
            font-size: 10px;
            color: var(--sys-text-quaternary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 4px;
        }

        .site-alerts {
            display: flex;
            gap: calc(var(--sys-spacing-unit) * 1);
            margin-top: calc(var(--sys-spacing-unit) * 2);
        }

        .alert-badge {
            flex: 1;
            padding: 8px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 500;
            text-align: center;
            transition: all var(--sys-motion-swift);
        }

        .alert-badge.critical {
            background: var(--sys-critical-bg);
            border: 1px solid var(--sys-critical-border);
            color: var(--sys-critical);
        }

        .alert-badge.high {
            background: var(--sys-high-bg);
            border: 1px solid var(--sys-high-border);
            color: var(--sys-high);
        }

        /* Timeline Panel */
        .timeline-tabs {
            display: flex;
            gap: 1px;
            background: var(--sys-border-subtle);
            border-bottom: 1px solid var(--sys-border-subtle);
        }

        .timeline-tab {
            flex: 1;
            padding: 12px;
            background: var(--sys-background-secondary);
            border: none;
            font-size: 12px;
            font-weight: 500;
            color: var(--sys-text-tertiary);
            cursor: pointer;
            transition: all var(--sys-motion-swift);
            position: relative;
        }

        .timeline-tab:hover {
            background: var(--sys-background-elevated);
            color: var(--sys-text-secondary);
        }

        .timeline-tab.active {
            background: var(--sys-background-primary);
            color: var(--sys-text-primary);
        }

        .timeline-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--sys-info);
        }

        .timeline-content {
            padding: calc(var(--sys-spacing-unit) * 2);
        }

        .timeline-item {
            display: flex;
            gap: calc(var(--sys-spacing-unit) * 2);
            padding: calc(var(--sys-spacing-unit) * 2) 0;
            border-bottom: 1px solid var(--sys-border-subtle);
            transition: all var(--sys-motion-swift);
            cursor: pointer;
            position: relative;
        }

        .timeline-item:hover {
            background: var(--sys-background-secondary);
            margin: 0 calc(var(--sys-spacing-unit) * -2);
            padding-left: calc(var(--sys-spacing-unit) * 2);
            padding-right: calc(var(--sys-spacing-unit) * 2);
        }

        .timeline-time {
            font-size: 11px;
            font-variant-numeric: tabular-nums;
            color: var(--sys-text-quaternary);
            min-width: 48px;
            padding-top: 2px;
        }

        .timeline-body {
            flex: 1;
        }

        .timeline-title {
            font-size: 13px;
            font-weight: 500;
            color: var(--sys-text-primary);
            margin-bottom: 4px;
        }

        .timeline-description {
            font-size: 12px;
            color: var(--sys-text-secondary);
            line-height: 1.5;
        }

        .timeline-metadata {
            display: flex;
            gap: calc(var(--sys-spacing-unit) * 2);
            margin-top: calc(var(--sys-spacing-unit) * 1);
            font-size: 11px;
            color: var(--sys-text-tertiary);
        }

        /* Real-time Updates Indicator */
        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 8px;
            background: var(--sys-critical-bg);
            border: 1px solid var(--sys-critical-border);
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            color: var(--sys-critical);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .live-dot {
            width: 6px;
            height: 6px;
            background: var(--sys-critical);
            border-radius: 50%;
            animation: livePulse 1.5s ease-in-out infinite;
        }

        @keyframes livePulse {
            0%, 100% { 
                opacity: 1;
                transform: scale(1);
            }
            50% { 
                opacity: 0.6;
                transform: scale(1.2);
            }
        }

        /* Loading States */
        .skeleton {
            background: linear-gradient(90deg, 
                var(--sys-background-secondary) 0%, 
                var(--sys-background-elevated) 50%, 
                var(--sys-background-secondary) 100%);
            background-size: 200% 100%;
            animation: skeleton 1.5s ease-in-out infinite;
            border-radius: 4px;
        }

        @keyframes skeleton {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Tooltips */
        .tooltip {
            position: absolute;
            background: var(--sys-background-overlay);
            backdrop-filter: blur(20px);
            border: 1px solid var(--sys-border-medium);
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 11px;
            color: var(--sys-text-primary);
            pointer-events: none;
            opacity: 0;
            transform: translateY(4px);
            transition: all var(--sys-motion-swift);
            z-index: 9999;
        }

        .tooltip.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Keyboard Shortcuts Modal */
        .shortcuts-modal {
            position: fixed;
            inset: 0;
            background: var(--sys-background-overlay);
            backdrop-filter: blur(20px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }

        .shortcuts-modal.visible {
            display: flex;
        }

        .shortcuts-content {
            background: var(--sys-background-secondary);
            border: 1px solid var(--sys-border-medium);
            border-radius: 12px;
            padding: calc(var(--sys-spacing-unit) * 4);
            max-width: 480px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .shortcut-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: calc(var(--sys-spacing-unit) * 1.5) 0;
            border-bottom: 1px solid var(--sys-border-subtle);
        }

        .shortcut-keys {
            display: flex;
            gap: 4px;
        }

        .key {
            padding: 4px 8px;
            background: var(--sys-background-elevated);
            border: 1px solid var(--sys-border-medium);
            border-radius: 4px;
            font-family: var(--sys-font-mono);
            font-size: 11px;
            color: var(--sys-text-secondary);
        }

        /* Responsive Design */
        @media (max-width: 1400px) {
            .command-layout {
                grid-template-columns: 260px 1fr 260px;
            }
        }

        @media (max-width: 1200px) {
            .command-layout {
                grid-template-columns: 240px 1fr 240px;
            }
            
            .site-grid {
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .command-layout {
                grid-template-columns: 1fr;
                grid-template-rows: 1fr 1fr 1fr;
            }
            
            .header-metrics {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Command Header -->
    <header class="command-header gpu-layer">
        <div class="header-brand">
            <h1 class="brand-logo">SITU8</h1>
            <div class="system-status">
                <div class="status-indicator"></div>
                <span>All Systems Operational</span>
            </div>
        </div>

        <div class="header-metrics">
            <div class="metric-card">
                <div class="metric-value">247</div>
                <div class="metric-label">Active Incidents</div>
                <div class="metric-trend trend-up">↑ 12%</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">1,847</div>
                <div class="metric-label">Total Activities</div>
                <div class="metric-trend trend-down">↓ 3%</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">42</div>
                <div class="metric-label">Guards Active</div>
                <div class="metric-trend">— 0%</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">99.7%</div>
                <div class="metric-label">System Uptime</div>
            </div>
        </div>

        <div class="header-actions">
            <button class="icon-button" title="Search (⌘K)">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                </svg>
            </button>
            <button class="icon-button has-notification" title="Notifications">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                </svg>
            </button>
            <button class="icon-button" title="Settings">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M12 1v6m0 6v6m9-9h-6m-6 0H3"/>
                </svg>
            </button>
            <button class="icon-button" title="Emergency Protocol" style="background: var(--sys-critical-bg); border-color: var(--sys-critical-border); color: var(--sys-critical);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="command-layout">
        <!-- Left Panel: Activities -->
        <section class="panel gpu-layer">
            <div class="panel-header">
                <h2 class="panel-title">
                    Activity Stream
                    <span class="panel-subtitle">Real-time monitoring</span>
                </h2>
                <div class="panel-actions">
                    <div class="live-indicator">
                        <div class="live-dot"></div>
                        LIVE
                    </div>
                    <button class="panel-action">Export</button>
                </div>
            </div>
            
            <div class="activity-filters">
                <button class="filter-chip active">All Activities <span class="count">1847</span></button>
                <button class="filter-chip">Critical <span class="count">12</span></button>
                <button class="filter-chip">Unassigned <span class="count">37</span></button>
                <button class="filter-chip">In Progress <span class="count">89</span></button>
                <button class="filter-chip">My Zone <span class="count">142</span></button>
            </div>

            <div class="panel-content">
                <div class="activity-stream" id="activityStream">
                    <!-- Activities will be rendered here -->
                </div>
            </div>
        </section>

        <!-- Center Panel: Interactive Map -->
        <section class="panel gpu-layer">
            <div class="panel-header">
                <h2 class="panel-title">
                    Site Overview
                    <span class="panel-subtitle">6 facilities • 42 active zones</span>
                </h2>
                <div class="panel-actions">
                    <button class="panel-action">3D View</button>
                    <button class="panel-action">Heat Map</button>
                    <button class="panel-action">Fullscreen</button>
                </div>
            </div>

            <div class="panel-content">
                <div class="map-container">
                    <div class="map-controls">
                        <nav class="breadcrumb">
                            <span class="breadcrumb-item">Enterprise</span>
                            <span class="breadcrumb-separator">›</span>
                            <span class="breadcrumb-item">North America</span>
                            <span class="breadcrumb-separator">›</span>
                            <span class="breadcrumb-current">All Sites</span>
                        </nav>
                        
                        <div class="map-actions">
                            <button class="map-button" title="Zoom In">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19"/>
                                    <line x1="5" y1="12" x2="19" y2="12"/>
                                </svg>
                            </button>
                            <button class="map-button" title="Zoom Out">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="5" y1="12" x2="19" y2="12"/>
                                </svg>
                            </button>
                            <button class="map-button" title="Reset View">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="1 4 1 10 7 10"/>
                                    <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="site-grid" id="siteGrid">
                        <!-- Site cards will be rendered here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Right Panel: Timeline -->
        <section class="panel gpu-layer">
            <div class="panel-header">
                <h2 class="panel-title">
                    Timeline
                    <span class="panel-subtitle">Last 24 hours</span>
                </h2>
                <div class="panel-actions">
                    <button class="panel-action">Filter</button>
                    <button class="panel-action">Today</button>
                </div>
            </div>

            <div class="timeline-tabs">
                <button class="timeline-tab active" data-tab="incidents">Incidents</button>
                <button class="timeline-tab" data-tab="communications">Communications</button>
                <button class="timeline-tab" data-tab="system">System Events</button>
            </div>

            <div class="panel-content">
                <div class="timeline-content" id="timelineContent">
                    <!-- Timeline items will be rendered here -->
                </div>
            </div>
        </section>
    </div>

    <!-- Keyboard Shortcuts Modal -->
    <div class="shortcuts-modal" id="shortcutsModal">
        <div class="shortcuts-content">
            <h3 style="margin-bottom: 24px;">Keyboard Shortcuts</h3>
            <div class="shortcut-item">
                <span>Search everywhere</span>
                <div class="shortcut-keys">
                    <span class="key">⌘</span>
                    <span class="key">K</span>
                </div>
            </div>
            <div class="shortcut-item">
                <span>Toggle fullscreen</span>
                <div class="shortcut-keys">
                    <span class="key">F</span>
                </div>
            </div>
            <div class="shortcut-item">
                <span>Emergency protocol</span>
                <div class="shortcut-keys">
                    <span class="key">⌘</span>
                    <span class="key">E</span>
                </div>
            </div>
            <div class="shortcut-item">
                <span>Navigate panels</span>
                <div class="shortcut-keys">
                    <span class="key">←</span>
                    <span class="key">→</span>
                </div>
            </div>
            <div class="shortcut-item">
                <span>Close modal</span>
                <div class="shortcut-keys">
                    <span class="key">ESC</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enterprise-Grade Data Management
        class SecurityDataService {
            constructor() {
                this.activities = [];
                this.sites = [];
                this.timeline = [];
                this.wsConnection = null;
                this.initializeData();
                this.setupWebSocket();
            }

            initializeData() {
                // Generate realistic security data
                this.generateActivities();
                this.generateSites();
                this.generateTimeline();
            }

            generateActivities() {
                const types = [
                    { name: 'BREACH_ATTEMPT', icon: '🚨', priority: 'critical' },
                    { name: 'UNAUTHORIZED_ACCESS', icon: '🚫', priority: 'high' },
                    { name: 'TAILGATING', icon: '👥', priority: 'high' },
                    { name: 'EQUIPMENT_FAULT', icon: '⚙️', priority: 'medium' },
                    { name: 'PATROL_CHECK', icon: '👮', priority: 'low' },
                    { name: 'VISITOR_ALERT', icon: '🎫', priority: 'medium' },
                    { name: 'SYSTEM_ALERT', icon: '💻', priority: 'medium' },
                    { name: 'FIRE_ALARM', icon: '🔥', priority: 'critical' }
                ];

                const locations = [
                    'Alpha Tower - North Entrance',
                    'Beta Complex - Server Room B2',
                    'Gamma Wing - Executive Floor',
                    'Delta Center - Loading Dock',
                    'Echo Plaza - Parking Level 3',
                    'Foxtrot Hall - Research Lab'
                ];

                for (let i = 0; i < 50; i++) {
                    const type = types[Math.floor(Math.random() * types.length)];
                    const priority = type.priority;
                    
                    this.activities.push({
                        id: `ACT-${String(i + 1).padStart(5, '0')}`,
                        type: type.name,
                        icon: type.icon,
                        priority,
                        location: locations[Math.floor(Math.random() * locations.length)],
                        timestamp: new Date(Date.now() - Math.random() * 86400000),
                        description: this.generateDescription(type.name),
                        assignee: Math.random() > 0.3 ? `Guard ${Math.floor(Math.random() * 42) + 1}` : null,
                        status: Math.random() > 0.7 ? 'active' : 'new',
                        confidence: Math.floor(Math.random() * 30) + 70,
                        responseTime: Math.floor(Math.random() * 300) + 60,
                        cameras: Math.floor(Math.random() * 3) + 1
                    });
                }

                this.activities.sort((a, b) => b.timestamp - a.timestamp);
            }

            generateDescription(type) {
                const descriptions = {
                    'BREACH_ATTEMPT': 'Attempted forced entry detected at secured access point',
                    'UNAUTHORIZED_ACCESS': 'Badge reader triggered without valid credentials',
                    'TAILGATING': 'Multiple individuals detected on single badge scan',
                    'EQUIPMENT_FAULT': 'Security equipment malfunction requires immediate attention',
                    'PATROL_CHECK': 'Routine patrol checkpoint verification completed',
                    'VISITOR_ALERT': 'Unescorted visitor detected in restricted area',
                    'SYSTEM_ALERT': 'Anomaly detected in security system performance',
                    'FIRE_ALARM': 'Fire suppression system activated - immediate response required'
                };
                return descriptions[type] || 'Security event requires investigation';
            }

            generateSites() {
                const siteNames = ['Alpha Tower', 'Beta Complex', 'Gamma Wing', 'Delta Center', 'Echo Plaza', 'Foxtrot Hall'];
                
                this.sites = siteNames.map((name, index) => ({
                    id: `SITE-${index + 1}`,
                    name,
                    status: Math.random() > 0.1 ? 'operational' : 'alert',
                    guards: Math.floor(Math.random() * 8) + 5,
                    cameras: Math.floor(Math.random() * 50) + 100,
                    incidents: Math.floor(Math.random() * 5),
                    criticalAlerts: Math.random() > 0.7 ? Math.floor(Math.random() * 2) : 0,
                    highAlerts: Math.floor(Math.random() * 3),
                    coverage: Math.floor(Math.random() * 20) + 80,
                    lastIncident: new Date(Date.now() - Math.random() * 3600000),
                    zones: Math.floor(Math.random() * 10) + 15
                }));
            }

            generateTimeline() {
                const eventTypes = [
                    'Security Incident Reported',
                    'Guard Shift Change',
                    'System Maintenance',
                    'Emergency Response',
                    'Patrol Completed',
                    'Alert Resolved',
                    'Communication Update',
                    'Equipment Check'
                ];

                for (let i = 0; i < 30; i++) {
                    this.timeline.push({
                        id: `EVT-${String(i + 1).padStart(5, '0')}`,
                        type: eventTypes[Math.floor(Math.random() * eventTypes.length)],
                        timestamp: new Date(Date.now() - i * 1800000),
                        description: 'Detailed information about the security event and actions taken',
                        location: this.sites[Math.floor(Math.random() * this.sites.length)].name,
                        user: `Operator ${Math.floor(Math.random() * 10) + 1}`,
                        priority: Math.random() > 0.8 ? 'high' : 'normal'
                    });
                }
            }

            setupWebSocket() {
                // Simulate WebSocket connection for real-time updates
                setInterval(() => {
                    if (Math.random() > 0.7) {
                        this.simulateNewActivity();
                    }
                }, 5000);
            }

            simulateNewActivity() {
                const types = [
                    { name: 'MOTION_DETECTED', icon: '🎯', priority: 'medium' },
                    { name: 'DOOR_FORCED', icon: '🚪', priority: 'high' },
                    { name: 'BADGE_CLONED', icon: '🎫', priority: 'critical' }
                ];

                const type = types[Math.floor(Math.random() * types.length)];
                const newActivity = {
                    id: `ACT-${String(this.activities.length + 1).padStart(5, '0')}`,
                    type: type.name,
                    icon: type.icon,
                    priority: type.priority,
                    location: this.sites[Math.floor(Math.random() * this.sites.length)].name,
                    timestamp: new Date(),
                    description: 'Real-time security event detected',
                    assignee: null,
                    status: 'new',
                    confidence: Math.floor(Math.random() * 30) + 70,
                    responseTime: 0,
                    cameras: Math.floor(Math.random() * 3) + 1
                };

                this.activities.unshift(newActivity);
                this.onActivityUpdate?.(newActivity);
            }
        }

        // UI Renderer with Virtual Scrolling
        class CommandCenterUI {
            constructor(dataService) {
                this.dataService = dataService;
                this.currentFilters = { type: 'all' };
                this.init();
            }

            init() {
                this.renderActivities();
                this.renderSites();
                this.renderTimeline();
                this.setupEventListeners();
                this.setupKeyboardShortcuts();
                
                // Subscribe to real-time updates
                this.dataService.onActivityUpdate = (activity) => {
                    this.addActivityToStream(activity);
                };
            }

            renderActivities() {
                const stream = document.getElementById('activityStream');
                const activities = this.getFilteredActivities();
                
                stream.innerHTML = activities.slice(0, 50).map(activity => `
                    <div class="activity-item priority-${activity.priority} ${activity.status === 'new' ? 'unread' : ''}" 
                         data-id="${activity.id}">
                        <div class="activity-priority"></div>
                        <div class="activity-content">
                            <div class="activity-header">
                                <div class="activity-meta">
                                    <div class="activity-type">
                                        <span>${activity.icon}</span>
                                        <span>${this.formatActivityType(activity.type)}</span>
                                    </div>
                                    <div class="activity-location">${activity.location}</div>
                                </div>
                                <div class="activity-time">${this.formatTime(activity.timestamp)}</div>
                            </div>
                            <div class="activity-description">${activity.description}</div>
                            <div class="activity-footer">
                                <div class="activity-stat">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 2v20M2 12h20"/>
                                    </svg>
                                    ${activity.confidence}% confidence
                                </div>
                                <div class="activity-stat">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"/>
                                        <polyline points="12 6 12 12 16 14"/>
                                    </svg>
                                    ${activity.responseTime}s response
                                </div>
                                <div class="activity-stat">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M23 7l-7 5 7 5V7z"/>
                                        <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
                                    </svg>
                                    ${activity.cameras} cameras
                                </div>
                                ${activity.assignee ? `
                                    <div class="activity-stat">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                            <circle cx="12" cy="7" r="4"/>
                                        </svg>
                                        ${activity.assignee}
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            renderSites() {
                const grid = document.getElementById('siteGrid');
                
                grid.innerHTML = this.dataService.sites.map(site => `
                    <div class="site-card" data-id="${site.id}">
                        <div class="site-header">
                            <h3 class="site-name">${site.name}</h3>
                            <div class="site-status">${site.status}</div>
                        </div>
                        
                        <div class="site-metrics">
                            <div class="site-metric">
                                <div class="site-metric-value">${site.guards}</div>
                                <div class="site-metric-label">Guards</div>
                            </div>
                            <div class="site-metric">
                                <div class="site-metric-value">${site.cameras}</div>
                                <div class="site-metric-label">Cameras</div>
                            </div>
                            <div class="site-metric">
                                <div class="site-metric-value">${site.coverage}%</div>
                                <div class="site-metric-label">Coverage</div>
                            </div>
                        </div>
                        
                        <div class="site-alerts">
                            ${site.criticalAlerts > 0 ? `
                                <div class="alert-badge critical">${site.criticalAlerts} Critical</div>
                            ` : ''}
                            ${site.highAlerts > 0 ? `
                                <div class="alert-badge high">${site.highAlerts} High</div>
                            ` : ''}
                        </div>
                    </div>
                `).join('');
            }

            renderTimeline() {
                const content = document.getElementById('timelineContent');
                
                content.innerHTML = this.dataService.timeline.map(event => `
                    <div class="timeline-item" data-id="${event.id}">
                        <div class="timeline-time">${this.formatTime(event.timestamp)}</div>
                        <div class="timeline-body">
                            <div class="timeline-title">${event.type}</div>
                            <div class="timeline-description">${event.description}</div>
                            <div class="timeline-metadata">
                                <span>${event.location}</span>
                                <span>${event.user}</span>
                                ${event.priority === 'high' ? '<span style="color: var(--sys-high)">High Priority</span>' : ''}
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            addActivityToStream(activity) {
                const stream = document.getElementById('activityStream');
                const activityEl = document.createElement('div');
                activityEl.className = `activity-item priority-${activity.priority} unread`;
                activityEl.style.opacity = '0';
                activityEl.style.transform = 'translateY(-20px)';
                
                activityEl.innerHTML = `
                    <div class="activity-priority"></div>
                    <div class="activity-content">
                        <div class="activity-header">
                            <div class="activity-meta">
                                <div class="activity-type">
                                    <span>${activity.icon}</span>
                                    <span>${this.formatActivityType(activity.type)}</span>
                                </div>
                                <div class="activity-location">${activity.location}</div>
                            </div>
                            <div class="activity-time">Now</div>
                        </div>
                        <div class="activity-description">${activity.description}</div>
                        <div class="activity-footer">
                            <div class="activity-stat">
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2v20M2 12h20"/>
                                </svg>
                                ${activity.confidence}% confidence
                            </div>
                        </div>
                    </div>
                `;
                
                stream.insertBefore(activityEl, stream.firstChild);
                
                // Animate in
                requestAnimationFrame(() => {
                    activityEl.style.transition = 'all 0.3s ease-out';
                    activityEl.style.opacity = '1';
                    activityEl.style.transform = 'translateY(0)';
                });
                
                // Update count
                this.updateFilterCounts();
            }

            getFilteredActivities() {
                if (this.currentFilters.type === 'all') {
                    return this.dataService.activities;
                }
                
                return this.dataService.activities.filter(activity => {
                    if (this.currentFilters.type === 'critical') {
                        return activity.priority === 'critical';
                    }
                    if (this.currentFilters.type === 'unassigned') {
                        return !activity.assignee;
                    }
                    if (this.currentFilters.type === 'in-progress') {
                        return activity.status === 'active';
                    }
                    return true;
                });
            }

            formatActivityType(type) {
                return type.split('_').map(word => 
                    word.charAt(0) + word.slice(1).toLowerCase()
                ).join(' ');
            }

            formatTime(date) {
                const now = new Date();
                const diff = now - date;
                const minutes = Math.floor(diff / 60000);
                
                if (minutes < 1) return 'Now';
                if (minutes < 60) return `${minutes}m ago`;
                if (minutes < 1440) return `${Math.floor(minutes / 60)}h ago`;
                
                return date.toLocaleTimeString('en-US', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    hour12: false 
                });
            }

            updateFilterCounts() {
                const counts = {
                    all: this.dataService.activities.length,
                    critical: this.dataService.activities.filter(a => a.priority === 'critical').length,
                    unassigned: this.dataService.activities.filter(a => !a.assignee).length,
                    'in-progress': this.dataService.activities.filter(a => a.status === 'active').length
                };
                
                document.querySelectorAll('.filter-chip .count').forEach((el, index) => {
                    const filterType = ['all', 'critical', 'unassigned', 'in-progress'][index];
                    if (filterType) {
                        el.textContent = counts[filterType] || 0;
                    }
                });
            }

            setupEventListeners() {
                // Filter chips
                document.querySelectorAll('.filter-chip').forEach(chip => {
                    chip.addEventListener('click', (e) => {
                        document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
                        chip.classList.add('active');
                        
                        const filterMap = {
                            'All Activities': 'all',
                            'Critical': 'critical',
                            'Unassigned': 'unassigned',
                            'In Progress': 'in-progress'
                        };
                        
                        const filterText = chip.textContent.split(' ')[0] + ' ' + (chip.textContent.split(' ')[1] || '');
                        this.currentFilters.type = filterMap[filterText.trim()] || 'all';
                        this.renderActivities();
                    });
                });

                // Timeline tabs
                document.querySelectorAll('.timeline-tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        document.querySelectorAll('.timeline-tab').forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        // In production, would load different timeline data
                    });
                });

                // Activity items
                document.addEventListener('click', (e) => {
                    const activityItem = e.target.closest('.activity-item');
                    if (activityItem) {
                        const id = activityItem.dataset.id;
                        console.log('Selected activity:', id);
                        // Would open detail panel
                    }

                    const siteCard = e.target.closest('.site-card');
                    if (siteCard) {
                        const id = siteCard.dataset.id;
                        console.log('Selected site:', id);
                        // Would drill down into site details
                    }
                });
            }

            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Command/Ctrl + K for search
                    if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                        e.preventDefault();
                        console.log('Open search');
                    }
                    
                    // F for fullscreen
                    if (e.key === 'f' && !e.metaKey && !e.ctrlKey) {
                        console.log('Toggle fullscreen');
                    }
                    
                    // Escape to close modals
                    if (e.key === 'Escape') {
                        document.getElementById('shortcutsModal').classList.remove('visible');
                    }
                    
                    // ? for keyboard shortcuts
                    if (e.key === '?' && e.shiftKey) {
                        document.getElementById('shortcutsModal').classList.add('visible');
                    }
                });
            }
        }

        // Initialize Enterprise Command Center
        document.addEventListener('DOMContentLoaded', () => {
            const dataService = new SecurityDataService();
            const ui = new CommandCenterUI(dataService);
            
            // Update clock
            setInterval(() => {
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-US', { 
                    hour: '2-digit', 
                    minute: '2-digit', 
                    second: '2-digit',
                    hour12: false 
                });
                
                // Update header if we add a clock element
            }, 1000);
            
            // Simulate metric updates
            setInterval(() => {
                document.querySelectorAll('.metric-value').forEach(el => {
                    if (Math.random() > 0.8) {
                        const current = parseInt(el.textContent);
                        const change = Math.floor(Math.random() * 10) - 5;
                        el.textContent = Math.max(0, current + change);
                    }
                });
            }, 5000);
        });
    </script>
</body>
</html>